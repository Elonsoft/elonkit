import { Meta, Story, Props } from '@storybook/addon-docs/blocks';
import { Preview } from '~storybook/components';

import { withA11y } from '@storybook/addon-a11y';

import { BrowserAnimationsModule } from '@angular/platform-browser/animations';

import { ESDropzoneComponent } from '..';

import {
  DropzoneStoryBasicModule,
  DropzoneStoryBasicComponent,
  DROPZONE_STORY_BASIC_SOURCE
} from './dropzone-story-basic';

import {
  DropzoneStoryRequiredModule,
  DropzoneStoryRequiredComponent,
  DROPZONE_STORY_REQUIRED_SOURCE
} from './dropzone-story-required';

<Meta title='UI/Dropzone' decorators={[withA11y]} />

# Dropzone

This component allows to select files on click or by drag and drop. Requires a `formControlName` as an Input.

## Demos

<Preview source={DROPZONE_STORY_BASIC_SOURCE}>
  <Story name='Basic' height='150px'>
    {{
      component: DropzoneStoryBasicComponent,
      moduleMetadata: {
        imports: [BrowserAnimationsModule, DropzoneStoryBasicModule]
      }
    }}
  </Story>
</Preview>

We can make Form Control required by adding a Validator.

<Preview source={DROPZONE_STORY_REQUIRED_SOURCE}>
  <Story name='Required' height='200px'>
    {{
      component: DropzoneStoryRequiredComponent,
      moduleMetadata: {
        imports: [BrowserAnimationsModule, DropzoneStoryRequiredModule]
      }
    }}
  </Story>
</Preview>

## API

<Props of={ESDropzoneComponent} />

## Interfaces

```ts
interface ESDropzoneFile {
  id?: number;
  deleted?: boolean;
  type?: string;
  base64?: string;
  file?: string;
  name: string;
  size: number;
  content: File;
}
```

```ts
interface ESDropzoneOptions {
  accept?: string;
  maxSize?: number;
  type?: string;
}
```
