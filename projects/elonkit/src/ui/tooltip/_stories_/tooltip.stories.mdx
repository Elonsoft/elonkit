import { Meta, Story, Props } from '@storybook/addon-docs/blocks';
import { Preview } from '~storybook/components';

import { withA11y } from '@storybook/addon-a11y';
import { action } from '@storybook/addon-actions';
import { withKnobs, boolean } from '@storybook/addon-knobs';

import { BrowserAnimationsModule } from '@angular/platform-browser/animations';
import { MatButtonModule } from '@angular/material/button';

import { ESTooltipModule, ESTooltipDirective } from '..';

import { TOOLTIP_STORY_BASIC_SOURCE } from './tooltip-story-basic';
import { TOOLTIP_STORY_INTERACTIVE_SOURCE } from './tooltip-story-interactive';
import {
  TooltipStoryThemingModule,
  TooltipStoryThemingComponent,
  TOOLTIP_STORY_THEMING_SOURCE
} from './tooltip-story-theming';

<Meta title='UI/Tooltip' decorators={[withA11y, withKnobs]} />

# Timepicker

The tooltip provides a text label that is displayed when the user hovers over or longpresses an element.
This is a copy of Angular Material tooltip with added support for arrows and complex content inside a tooltip.

## Demos

<Preview source={TOOLTIP_STORY_BASIC_SOURCE}>
  <Story name='Basic' height='110px'>
    {{
      template: `
        <div style="padding: 10px">
          <button
            mat-flat-button
            color="primary"
            esTooltip="Information about the action"
            esTooltipPosition="after"
            [esTooltipArrow]="esTooltipArrow"
          >
            Button
          </button>
        </div>
      `,
      moduleMetadata: {
        imports: [BrowserAnimationsModule, MatButtonModule, ESTooltipModule]
      },
      props: {
        esTooltipArrow: boolean('esTooltipArrow', true)
      }
    }}
  </Story>
</Preview>

We can place interactive content inside a tooltip.

<Preview source={TOOLTIP_STORY_INTERACTIVE_SOURCE}>
  <Story name='Interactive' height='150px'>
    {{
      template: `
        <div style="padding: 10px">
          <button
            style="margin-right: 8px;"
            mat-flat-button
            color="primary"
            esTooltip
            [esTooltipContent]="content"
            esTooltipPosition="after"
            esTooltipInteractive
            [esTooltipArrow]="esTooltipArrow"
          >
            Button
          </button>
          <ng-template #content>
            This is a tooltip with an interactive content
            <br /><br />
            <button mat-flat-button>Action</button>
          </ng-template>
          <button mat-flat-button color="accent">Extra Button</button>
        </div>
      `,
      moduleMetadata: {
        imports: [BrowserAnimationsModule, MatButtonModule, ESTooltipModule]
      },
      props: {
        esTooltipArrow: boolean('esTooltipArrow', true)
      }
    }}
  </Story>
</Preview>

We can use `es-tooltip-color` mixin to easily change tooltip colors.

<Preview source={TOOLTIP_STORY_THEMING_SOURCE}>
  <Story name='Theming' height='150px'>
    {{
      component: TooltipStoryThemingComponent,
      moduleMetadata: {
        imports: [BrowserAnimationsModule, TooltipStoryThemingModule]
      },
      props: {
        esTooltipArrow: boolean('esTooltipArrow', true)
      }
    }}
  </Story>
</Preview>

## API

<Props of={ESTooltipDirective} />
