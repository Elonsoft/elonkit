import { Meta, Story, Props } from '@storybook/addon-docs/blocks';
import { Preview } from '~storybook/components';

import { withA11y } from '@storybook/addon-a11y';
import { action } from '@storybook/addon-actions';
import { withKnobs, boolean } from '@storybook/addon-knobs';

import { BrowserAnimationsModule } from '@angular/platform-browser/animations';

import { ESTooltipModule, ESTooltipDirective } from '..';

import {
  TooltipStoryBasicModule,
  TooltipStoryBasicComponent,
  TOOLTIP_STORY_BASIC_SOURCE
} from './tooltip-story-basic';
import {
  TooltipStoryInteractiveModule,
  TooltipStoryInteractiveComponent,
  TOOLTIP_STORY_INTERACTIVE_SOURCE
} from './tooltip-story-interactive';
import {
  TooltipStoryThemingModule,
  TooltipStoryThemingComponent,
  TOOLTIP_STORY_THEMING_SOURCE
} from './tooltip-story-theming';
import {
  TooltipStoryListenersModule,
  TooltipStoryListenersComponent,
  TOOLTIP_STORY_LISTENERS_SOURCE
} from './tooltip-story-listeners';

<Meta title='UI/Tooltip' decorators={[withA11y, withKnobs]} />

# Tooltip

The tooltip provides a text label that is displayed when the user hovers over or longpresses an element.
This is a copy of Angular Material tooltip with added support for arrows and complex content inside a tooltip.

## Demos

<Preview source={TOOLTIP_STORY_BASIC_SOURCE}>
  <Story name='Basic' height='110px'>
    {{
      component: TooltipStoryBasicComponent,
      moduleMetadata: {
        imports: [BrowserAnimationsModule, TooltipStoryBasicModule]
      },
      props: {
        esTooltipArrow: boolean('esTooltipArrow', true)
      }
    }}
  </Story>
</Preview>

We can place interactive content inside a tooltip.

<Preview source={TOOLTIP_STORY_INTERACTIVE_SOURCE}>
  <Story name='Interactive' height='150px'>
    {{
      component: TooltipStoryInteractiveComponent,
      moduleMetadata: {
        imports: [BrowserAnimationsModule, TooltipStoryInteractiveModule]
      },
      props: {
        esTooltipArrow: boolean('esTooltipArrow', true)
      }
    }}
  </Story>
</Preview>

We can use `es-tooltip-color` mixin to easily change tooltip colors.

<Preview source={TOOLTIP_STORY_THEMING_SOURCE}>
  <Story name='Theming' height='150px'>
    {{
      component: TooltipStoryThemingComponent,
      moduleMetadata: {
        imports: [BrowserAnimationsModule, TooltipStoryThemingModule]
      },
      props: {
        esTooltipArrow: boolean('esTooltipArrow', true)
      }
    }}
  </Story>
</Preview>

We can disable open and close listeners.

<Preview source={TOOLTIP_STORY_LISTENERS_SOURCE}>
  <Story name='Listeners' height='150px'>
    {{
      component: TooltipStoryListenersComponent,
      moduleMetadata: {
        imports: [BrowserAnimationsModule, TooltipStoryListenersModule]
      },
      props: {
        esTooltipArrow: boolean('esTooltipArrow', true),
        esTooltipDisableFocusListener: boolean('esTooltipDisableFocusListener', true),
        esTooltipDisableHoverListener: boolean('esTooltipDisableHoverListener', false),
        esTooltipDisableCloseFocusListener: boolean('esTooltipDisableCloseFocusListener', true),
        esTooltipDisableCloseHoverListener: boolean('esTooltipDisableCloseHoverListener', true),
        esTooltipDisableCloseClickListener: boolean('esTooltipDisableCloseClickListener', true)
      }
    }}
  </Story>
</Preview>

## API

<Props of={ESTooltipDirective} />
